<ng-container
  *transloco="let t;"
>
<mat-tab-group elTabGroup mat-align-tabs="center">
  <mat-tab label="Documents">
  <div fxLayout="row"
      fxLayoutAlign="space-around center"
      class="header-box"
  >
  <!-- Searchbar -->
    <mat-form-field
      class="search-bar"

    >
      <mat-label>{{ t('lazy.adminOverview.search') }}</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Title, Name, Surname" #input>
    </mat-form-field>
      <!-- New documnet button -->
      <button
        (click)="newDocument()"
        mat-raised-button
        color="primary"
        style="margin-right: 30px;"
      >
      {{ t('lazy.adminOverview.document') }}
      </button>

    </div>

  <div fxLayout="column"
      fxLayoutAlign="center center"
      class="full-box">
  <table mat-table
        [dataSource]="dataSource"
        class="main-table"
        >

        <!-- Title Column -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.title') }} </th>
      <td mat-cell *matCellDef="let element"> {{element.title}} </td>
    </ng-container>

    <!-- Atuhor name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.name') }} </th>
      <td mat-cell *matCellDef="let element"> {{element.author.name}} </td>
    </ng-container>

    <!-- Author surname Column -->
    <ng-container matColumnDef="surname">
      <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.surname') }} </th>
      <td mat-cell *matCellDef="let element"> {{element.author.surname}} </td>
    </ng-container>

      <!-- Edit Column -->
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.edit') }} </th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button>
            <mat-icon (click)="editDocument()">edit</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- Delete Column -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.delete') }} </th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button>
            <mat-icon (click)="deleteDocument()">delete</mat-icon>
          </button>
        </td>
      </ng-container>


      <!-- Event listener -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
        mat-row
        (click)="getRow(row)"
        *matRowDef="let row; columns: displayedColumns;"
    ></tr>


  </table>
    <!-- Paginator -->
    <mat-paginator
          (page)="documentPagination()"
          #paginator
          [length]="resultsLength"
          [pageSizeOptions]="[5, 10, 20]"
          class="paginator-size"
    >
    </mat-paginator>
  </div>
  </mat-tab>
  <mat-tab label="Feeds">
    <div fxLayout="row"
    fxLayoutAlign="space-around center"
    class="header-box"
>
<!-- Searchbar -->
  <mat-form-field
    class="search-bar"

  >
    <mat-label>{{ t('lazy.adminOverview.search') }}</mat-label>
    <input matInput (keyup)="applyFilterFeed($event)" placeholder="Ex. Title, Name, Surname" #input>
  </mat-form-field>
  <button
      (click)="createNewFeed()"
      mat-raised-button
      color="primary"
    >
    {{ t('lazy.adminOverview.newFeed') }}
    </button>
  </div>

<div fxLayout="column"
    fxLayoutAlign="center center"
    class="full-box">
<!-- <table mat-table
      [dataSource]="dataSourceFeed"
      class="main-table"
      >

  <ng-container matColumnDef="feed">
    <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.title') }} </th>
    <td mat-cell *matCellDef="let element"> {{element.title}} </td>
  </ng-container>

    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.edit') }} </th>
      <td mat-cell *matCellDef="let element">
        <button mat-icon-button>
          <mat-icon (click)="editFeed()">edit</mat-icon>
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef> {{ t('lazy.adminOverview.delete') }} </th>
      <td mat-cell *matCellDef="let element">
        <button mat-icon-button>
          <mat-icon (click)="deleteFeed()">delete</mat-icon>
        </button>
      </td>
    </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumnsFeed"></tr>
  <tr
      mat-row
      (click)="getRowFeed(row)"
      *matRowDef="let row; columns: displayedColumnsFeed;"
  ></tr>


</table>
  <mat-paginator
        (page)="feedPagination()"
        #Feedpaginator
        [length]="resultsLengthFeed"
        [pageSizeOptions]="[5, 10, 20]"
        class="paginator-size"
  >
  </mat-paginator> -->
  <mat-tree
      [dataSource]="treeDataSource"
      [treeControl]="treeControl"
      class="example-tree"
    >
      <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
        <div fxLayout="row" fxLayoutAlign="space-between center">
          <button mat-flat-button (click)="filterByFeed(node.id)">
            {{ node.title }}
          </button>
          <button mat-icon-button (click)="editFeed(node.id)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button (click)="deleteFeed(node.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </mat-tree-node>
      <mat-nested-tree-node *matTreeNodeDef="let node; when: isNavigationNode">
        <div class="mat-tree-node">
          <button
            mat-icon-button
            matTreeNodeToggle
            [attr.aria-label]="'Toggle ' + node.title"
          >
            <mat-icon class="mat-icon-rtl-mirror">
              {{
                treeControl.isExpanded(node) ? "expand_more" : "chevron_right"
              }}
            </mat-icon>
          </button>
          {{ node.title }}
        </div>
        <div
          [class.example-tree-invisible]="!treeControl.isExpanded(node)"
          role="group"
        >
          <ng-container matTreeNodeOutlet></ng-container>
        </div>
      </mat-nested-tree-node>
    </mat-tree>
</div>
  </mat-tab>
</mat-tab-group>
</ng-container>
