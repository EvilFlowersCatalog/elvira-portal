<ng-container
  *transloco="let t;"
>
  <form
    [formGroup]="uploadForm"
    (submit)="formUploader()"
  >
    <div
      fxLayoutAlign="center center"
      class="admin-box"
    >
      <mat-card
        fxLayout="column"
        fxFlex="35"
        class="login-theme"
      >
        <mat-card-title >{{ t('lazy.adminPage.header') }}</mat-card-title>
      <hr>
      <mat-card-title >{{ t('lazy.adminPage.title') }}</mat-card-title>
        <div
          fxLayout="row"
          fxLayoutAlign="space-between center"
        >
          <mat-form-field
            appearance="legacy"
            style="width: 100%;"
          >
            <mat-label>{{ t('lazy.adminPage.title-description') }}</mat-label>
              <input
                matInput
                maxlength="50"
                formControlName="title"
              >
          </mat-form-field>
        </div>
      <br>
        <div fxLayout="row" >
          <mat-card-title >{{ t('lazy.adminPage.author') }}</mat-card-title>
          <mat-icon>person</mat-icon>
        </div>
          <div
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <mat-form-field
              appearance="legacy"
              style="width: 45%;"
            >
              <mat-label>{{ t('lazy.adminPage.author-name') }}</mat-label>
                <input
                  matInput
                  maxlength="50"
                  formControlName="authorName"
                >
            </mat-form-field>
            <mat-form-field
              appearance="legacy"
              style="width: 45%;"
            >
              <mat-label>{{ t('lazy.adminPage.author-surname') }}</mat-label>
                <input
                  matInput
                  maxlength="30"
                  formControlName="authorSurname"
                >
            </mat-form-field>
          </div>
        <mat-card-title >{{ t('lazy.adminPage.contributor') }}
          <button
            (click)="addContributor()"
            type="button"
            mat-icon-button color="primary"
          >
            <mat-icon>add</mat-icon>
          </button>
        </mat-card-title>
      <div
        *ngFor="let contributor of contributors(counter); index as i"
        fxLayout="row"
        fxLayoutAlign="space-between center"
      >
        <mat-form-field
          appearance="legacy"
          style="width: 45%;"
        >
          <mat-label>{{ t('lazy.adminPage.contributor-name') }}</mat-label>
            <input
              matInput
              maxlength="50"
              formControlName="contributorsName[i]"
            >
        </mat-form-field>
        <mat-form-field
          appearance="legacy"
          style="width: 45%;"
        >
          <mat-label>{{ t('lazy.adminPage.contributor-surname') }}</mat-label>
            <input
              matInput
              maxlength="30"
              formControlName="contributorsSurname[i]"
            >
        </mat-form-field>
        <button
          (click)="removeContributor()"
          type="button"
          mat-icon-button color="primary"
        >
        <mat-icon>clear</mat-icon>
        </button>
      </div>
    <br>
      <mat-card-title >{{ t('lazy.adminPage.category') }}</mat-card-title>
        <mat-form-field appearance="outline">
          <mat-label>{{ t('lazy.adminPage.category-description') }}</mat-label>
            <input
              matInput
              placeholder="Placeholder"
              formControlName="category"
            >
          <mat-hint>{{ t('lazy.adminPage.category-hint') }}</mat-hint>
        </mat-form-field>
      <br>
      <mat-card-title >Catalog</mat-card-title>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Catalog</mat-label>
        <input type="text"
               placeholder="Pick one"
               aria-label="number"
               matInput
               [formControl]="catalogForm"
               [matAutocomplete]="auto">
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            {{option}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
      <mat-card-title>Feeds</mat-card-title>
      <mat-form-field class="demo-chip-list">
        <mat-chip-list #chipList>
          <mat-chip *ngFor="let fruit of feeds" [selectable]="selectable"
                   [removable]="removable" (removed)="remove(fruit)">
            {{fruit.name}}
            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          </mat-chip>
          <input placeholder="New feed..."
                 [matChipInputFor]="chipList"
                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                 [matChipInputAddOnBlur]="addOnBlur"
                 (matChipInputTokenEnd)="add($event)" />
        </mat-chip-list>
        <mat-hint>Easy tags</mat-hint>
      </mat-form-field>
      <br>
      <mat-card-title >Summary</mat-card-title>
      <mat-form-field appearance="standard">
        <mat-label>{{ t('lazy.adminPage.summary') }}</mat-label>
          <textarea
            matInput
            class="summary-textfield"
            formControlName="description"
          ></textarea>
            <mat-hint>{{ t('lazy.adminPage.summary-hint') }}</mat-hint>
      </mat-form-field>
      <br>
      <div mat-dialog-content class="dropzone" fxLayout="column" fxLayoutAlign="center center" dragAndDrop (fileDropped)="onFileDropped($event)">
        <ng-template [ngIf]="!file">
            <input type="file" class="input-file" (change)="fileSelectedFromBrowse(($event.target?.files)[0])" />
            <h3>Drag your image here or click here to browse</h3>
            <h4><i>(64x64 px resolution is recommended)</i></h4>
        </ng-template>
        <ng-template [ngIf]="file">
            <h3>{{ file?.name }}</h3>
            <h4>{{ formatFileSize(file?.size) }}</h4>
            <button mat-icon-button class="btn-remove-file" (click)="removeFile()">
                <mat-icon>clear</mat-icon>
            </button>
        </ng-template>
    </div>
    <br>
      <input type="file"
        (change)="fileChange($event)"
        placeholder="Upload file"
        accept=".pdf"
       >
      <br>
      <button
        mat-raised-button color="primary"
        type="submit"
      >
       Upload
      </button>
    </mat-card>
  </div>
</form>
</ng-container>

